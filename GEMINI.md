# Nuxt 3 圖片批次轉換工具 - 專案規格 (由 Gemini 生成)

## 專案目標
建立一個基於 **Nuxt 3** 的圖片轉換應用，支援使用者將 JPG、JPEG、PNG 圖片批次轉換為 WebP 格式，並提供兩種尺寸與完整壓縮報告與下載功能。具備良好擴充性與使用者體驗。

## 核心功能

### 1. 多圖片批次處理
- 支援使用者選擇多張圖片或拖曳至指定區塊。
- 即時預覽每張圖片縮圖。
- 限制僅接受 `.jpg`, `.jpeg`, `.png` 格式。

### 2. WebP 圖片轉換
- **轉換參數:**
    - `quality: 100`
    - `effort: 6`
    - `lossless: false`
- **兩種尺寸轉換:**
    - **桌機版:** 寬度 1000px
    - **手機版:** 寬度 700px

### 3. 檔案資訊顯示
每張圖片需顯示：
- 原始檔案大小（KB/MB）
- 壓縮後大小（兩尺寸）
- 壓縮比例（%）
- 處理時間（ms）

### 4. 一鍵下載功能
- 支援：
    - 單張圖片下載 (目前透過 ZIP 實現)
    - 全部桌機版圖片 ZIP 下載
    - 全部手機版圖片 ZIP 下載

### 5. 輸出資料夾與儲存結構
- 轉換後圖片應自動分類存入伺服器端的臨時資料夾，並在處理完成後自動清除。
- ZIP 檔案命名為 `desktop_images.zip` 和 `mobile_images.zip`。

## UI/UX 需求

### 操作流程
1. 使用者拖拉或上傳圖片
2. 點擊「開始處理」按鈕
3. 顯示每張圖片處理進度與結果
4. 提供下載選項

### 介面要素
- 拖曳區塊（Dropzone）
- 預覽區塊（圖片 + 名稱 + 處理結果）
- 處理進度條 (目前為處理中狀態顯示)
- 成功/錯誤提示 (目前為 `alert` 提示)
- 主題切換（亮／暗） (已整合 UnoCSS，但主題切換功能尚未實作)

## 技術架構
- **Nuxt 3** (已使用 `yarn create nuxt` 建立)
- `Pinia` 狀態管理 (已整合)
- `UnoCSS` (已整合)
- **後端處理:** Node.js with `sharp` (圖片處理) 和 `archiver` (ZIP 壓縮)

## 錯誤處理與提示
- 格式錯誤（非支援圖片格式） (已實作)
- 壓縮失敗（檔案毀損或權限錯誤） (已實作，顯示錯誤訊息)
- 檔案大小超過限制 (尚未實作)
- 處理中顯示 loading 與 disable 狀態 (已實作)

## 測試與部署
- 本地可執行 `yarn dev` 快速開發 (已修正相關錯誤)
- 編譯部署：`yarn build` (尚未測試)
- 每次處理完的 zip 檔應使用臨時資料夾，並處理完自動清除 (已實作)
